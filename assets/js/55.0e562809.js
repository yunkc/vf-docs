(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{304:function(t,a,s){"use strict";s.r(a);var r=s(28),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"拖动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拖动"}},[t._v("#")]),t._v(" 拖动")]),t._v(" "),s("p",[t._v("开启拖动 "),s("code",[t._v("dragOption.draggable = true")]),t._v(" 后，有接收拖动事件能力。")]),t._v(" "),s("blockquote",[s("p",[t._v("自定义组件 "),s("code",[t._v("custom")]),t._v(" 需实例化时设置"),s("code",[t._v("dragOption")]),t._v("属性。")])]),t._v(" "),s("h2",{attrs:{id:"dragoption参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dragoption参数"}},[t._v("#")]),t._v(" dragOption参数")]),t._v(" "),s("h4",{attrs:{id:"拖动-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拖动-2"}},[t._v("#")]),t._v(" 拖动")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性名")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("draggable")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("开启拖动")])]),t._v(" "),s("tr",[s("td",[t._v("dragContainer")]),t._v(" "),s("td",[t._v("DisplayObject")]),t._v(" "),s("td",[t._v("设置拖动时父容器，并非目标容器")])]),t._v(" "),s("tr",[s("td",[t._v("dragRestrictAxis")]),t._v(" "),s("td",[t._v("x,y")]),t._v(" "),s("td",[t._v("限制拖动轴")])]),t._v(" "),s("tr",[s("td",[t._v("dragBoundary")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("限定移动边界，父级")])]),t._v(" "),s("tr",[s("td",[t._v("dragBounces")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("开启回弹")])]),t._v(" "),s("tr",[s("td",[t._v("droppable")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("开启掉落接收")])]),t._v(" "),s("tr",[s("td",[t._v("dropGroup")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("设置分组，拖动目标时设置")])]),t._v(" "),s("tr",[s("td",[t._v("dropGroup")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("设置分组，接收分组，接收"),s("code",[t._v("dropGroup")])])]),t._v(" "),s("tr",[s("td",[t._v("collision")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("是否开启碰撞检测（默认不开启）")])]),t._v(" "),s("tr",[s("td",[t._v("dragMoveCursor")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("拖拽移动时鼠标样式")])]),t._v(" "),s("tr",[s("td",[t._v("actionData")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("当前操作数据")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("设置 "),s("code",[t._v("droppable = true")]),t._v(" 后，可接收拖动组件，接收必须为"),s("code",[t._v("custom")]),t._v("。")]),t._v(" "),s("p",[t._v("掉落条件默认为鼠标在掉落容器位置抬起。设置 "),s("code",[t._v("collision = true")]),t._v("后，掉落条件为拖拽元素与掉落容器产生碰撞。")])]),t._v(" "),s("h2",{attrs:{id:"事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("事件名")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("参数")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("DRAG_DOWN")]),t._v(" "),s("td",[t._v("拖动元素按下")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_UP")]),t._v(" "),s("td",[t._v("拖动元素抬起")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_HOVER")]),t._v(" "),s("td",[t._v("拖动元素hover")]),t._v(" "),s("td",[t._v("target,event,isHover")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_MOUSEENTER")]),t._v(" "),s("td",[t._v("拖动元素鼠标移入")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_MOUSELEAVE")]),t._v(" "),s("td",[t._v("拖动元素鼠标移出")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_START")]),t._v(" "),s("td",[t._v("拖动开始时触发")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_MOVE")]),t._v(" "),s("td",[t._v("拖动中触发")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_END")]),t._v(" "),s("td",[t._v("拖动结束，未移动到目标触发")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_TARGET")]),t._v(" "),s("td",[t._v("拖动结束，移动到目标触发")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DROP_TARGET")]),t._v(" "),s("td",[t._v("\b有组件被拖入后触发")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_START_BEFORE")]),t._v(" "),s("td",[t._v("拖动开始前触发")]),t._v(" "),s("td",[t._v("target,event")])]),t._v(" "),s("tr",[s("td",[t._v("DRAG_END_BEFORE")]),t._v(" "),s("td",[t._v("拖动结束前触发")]),t._v(" "),s("td",[t._v("target,event")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("DRAG_START，DRAG_MOVE，DRAG_END，DRAG_TARGET 事件会触发并改变 "),s("code",[t._v("actionData")]),t._v(" 值。")])]),t._v(" "),s("blockquote",[s("p",[t._v("通过传送与设置 "),s("code",[t._v("actionData")]),t._v(" 值达到多端同步操作。")])]),t._v(" "),s("h2",{attrs:{id:"开启拖动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启拖动"}},[t._v("#")]),t._v(" 开启拖动")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"components"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"source"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dragOption"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"draggable"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dragGroup"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"collision"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            \n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"接收拖动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接收拖动"}},[t._v("#")]),t._v(" 接收拖动")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"components"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"target"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dragOption"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"droppable"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dropGroup"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group1"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"children"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            \n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"监听"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#监听"}},[t._v("#")]),t._v(" 监听")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("#"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DRAG_START'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onDragStart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onDragStart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("$event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $target")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),s("blockquote",[s("p",[t._v("示例使用的编程方式，在vf中，通过配置方式会有写法差异")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("运行 ⌘ + Enter")]),t._v(" 查看修改后的效果")])]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://vipkid-edu.github.io/vf-gui/play/#example/TestDrag",target:"_blank",rel:"noopener noreferrer"}},[t._v("弹出"),s("OutboundLink")],1)])]),t._v(" "),s("iframe",{staticStyle:{width:"100%",height:"720px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/dragexample-eul9l?fontsize=14&hidenavigation=1&module=%2Fsrc%2Fcomponents.ts&theme=dark",title:"dragExample",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-autoplay allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}})])}),[],!1,null,null,null);a.default=e.exports}}]);